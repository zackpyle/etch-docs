{"type":"block","gutenbergBlock":{"blockName":"etch/component","attrs":{"ref":140,"attributes":{"showEditor":"{false}","drawerDisplayMethod":"pushBody","drawerId":"etch-drawer","maxWidth":"400px","maxHeight":"100px"}},"innerBlocks":[{"blockName":"etch/slot-content","attrs":{"name":"drawerContent"},"innerBlocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Heading"},"tag":"h2","attributes":{}},"innerBlocks":[{"blockName":"etch/text","attrs":{"metadata":{"name":"Text"},"content":"Insert your heading here..."},"innerBlocks":[],"innerHTML":"","innerContent":[]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]},"version":2,"styles":{"rlli2h1":{"type":"class","selector":".etch-drawer","collection":"default","css":"/* etch drawer */\n    --etch-drawer-transition-duration: 0.35s;\n    --etch-drawer-transition-timing-function: ease-in-out;\n    --etch-drawer-z-index: 1000;\n\n    /* Create positioning context for absolute children if needed */\n    position: relative;\n\n    /* etch drawer overlay */\n    /* variable set in props */\n    --etch-drawer-overlay-background: var(--etch-drawer-backdrop-color);\n    --etch-drawer-overlay-z-index: calc(var(--etch-drawer-z-index) - 1);\n\n    /* etch drawer panel */\n    --etch-drawer-panel-background: var(--etch-drawer-background-color);\n    /* default, can be overridden by props or JS */\n    --etch-drawer-panel-max-width: 400px;\n    --etch-drawer-panel-max-height: fit-content;\n    --etch-drawer-panel-box-shadow: -2px 0 8px rgba(0, 0, 0, 0.15);\n    /* default, set by JS if WordPress admin bar exists */\n    --etch-drawer-admin-bar-height: 0;\n\n    /* etch drawer close button */\n    --etch-drawer-close-hover-background: #f5f5f5;\n    --etch-drawer-close-padding: 0.5rem;\n    --etch-drawer-close-border-radius: 0.25rem;\n    --etch-drawer-close-position: 0;\n\n    /* etch drawer content */\n    /* variable set by props */\n    --etch-drawer-content-padding: var(--etch-drawer-padding);\n\n    :where(.etch-drawer__overlay) {\n        position: fixed;\n        inset: 0;\n        background: var(--etch-drawer-overlay-background);\n        z-index: var(--etch-drawer-overlay-z-index);\n        opacity: 0;\n        visibility: hidden;\n        transition:\n            opacity var(--etch-drawer-transition-duration) var(--etch-drawer-transition-timing-function),\n            visibility var(--etch-drawer-transition-duration) var(--etch-drawer-transition-timing-function);\n    }\n\n    :where(.etch-drawer__overlay[aria-hidden='false']) {\n        opacity: 1;\n        visibility: visible;\n    }\n\n    :where(.etch-drawer__panel) {\n        position: fixed;\n        background: var(--etch-drawer-panel-background);\n        width: 100%;\n        /* variable set by props */\n        max-width: var(--etch-drawer-panel-max-width);\n        z-index: var(--etch-drawer-z-index);\n        box-shadow: var(--etch-drawer-panel-box-shadow);\n        max-height: 100vh;\n        overflow: hidden;\n        transition: transform var(--etch-drawer-transition-duration) var(--etch-drawer-transition-timing-function);\n    }\n\n    /* Use parent data attribute instead of panel data-side */\n    :where([data-etch-drawer-placement='left'] .etch-drawer__panel) {\n        top: 0;\n        left: 0;\n        bottom: 0;\n        transform: translateX(-100%);\n    }\n\n    :where([data-etch-drawer-placement='right'] .etch-drawer__panel) {\n        top: 0;\n        right: 0;\n        bottom: 0;\n        transform: translateX(100%);\n    }\n\n    :where([data-etch-drawer-placement='top'] .etch-drawer__panel) {\n        top: 0;\n        left: 0;\n        right: 0;\n        max-width: 100%;\n        height: 100%;\n        max-height: var(--etch-drawer-panel-max-height);\n        transform: translateY(-100%);\n    }\n\n    :where([data-etch-drawer-placement='bottom'] .etch-drawer__panel) {\n        bottom: 0;\n        left: 0;\n        right: 0;\n        max-width: 100%;\n        height: 100%;\n        max-height: var(--etch-drawer-panel-max-height);\n        transform: translateY(100%);\n    }\n\n    :where(.etch-drawer__panel[aria-hidden='false']) {\n        transform: translate(0, 0);\n    }\n\n    :where(.etch-drawer__panel[hidden]) {\n        display: none;\n    }\n\n    :where(.etch-drawer__close) {\n        position: absolute;\n        top: var(--etch-drawer-close-position);\n        right: var(--etch-drawer-close-position);\n        padding: var(--etch-drawer-close-padding);\n        border-radius: var(--etch-drawer-close-border-radius);\n        transition: background-color 0.2s ease;\n    }\n\n    :where(.etch-drawer__close:hover) {\n        background: var(--etch-drawer-close-hover-background);\n    }\n\n    :where(.etch-drawer__close:focus-visible) {\n        outline: 2px solid #2466e8;\n        outline-offset: 2px;\n    }\n\n    /* Close Button Variants */\n    :where(.etch-drawer__close--label-icon) {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n\n    :where(.etch-drawer__close--icon-only svg),\n    :where(.etch-drawer__close--label-icon svg) {\n        width: 1.25rem;\n        height: 1.25rem;\n    }\n\n    :where(.etch-drawer__content) {\n        padding: var(--etch-drawer-content-padding);\n        overflow-y: auto;\n        height: 100%;\n    }\n\n    /* Push behavior - adjust body when drawer is open */\n    /* Apply transition to body whenever push body drawer exists (not just when open) */\n    body:has(&[data-etch-drawer-display-method='pushBody']) {\n        transition: margin var(--etch-drawer-transition-duration) var(--etch-drawer-transition-timing-function);\n    }\n\n    body:has(&[data-etch-drawer-display-method='pushBody'][data-etch-drawer-placement='left'] .etch-drawer__panel[aria-hidden='false']) {\n        margin-left: var(--etch-drawer-panel-max-width);\n    }\n\n    body:has(&[data-etch-drawer-display-method='pushBody'][data-etch-drawer-placement='right'] .etch-drawer__panel[aria-hidden='false']) {\n        margin-left: calc(-1 * var(--etch-drawer-panel-max-width));\n    }\n\n    /* Top and bottom push margins are set dynamically via JavaScript based on actual drawer height */\n    body:has(&[data-etch-drawer-display-method='pushBody'][data-etch-drawer-placement='top'] .etch-drawer__panel[aria-hidden='false']) {\n        margin-top: var(--etch-drawer-panel-max-height);\n    }\n\n    body:has(&[data-etch-drawer-display-method='pushBody'][data-etch-drawer-placement='bottom'] .etch-drawer__panel[aria-hidden='false']) {\n        margin-top: calc(-1 * var(--etch-drawer-panel-max-height));\n    }\n\n    /* WordPress admin bar adjustments */\n    :where([data-etch-drawer-placement='left'] .etch-drawer__panel),\n    :where([data-etch-drawer-placement='right'] .etch-drawer__panel) {\n        /* JS will set --etch-drawer-admin-bar-height if admin bar exists */\n        top: var(--etch-drawer-admin-bar-height, 0);\n        height: calc(100vh - var(--etch-drawer-admin-bar-height, 0));\n        max-height: calc(100vh - var(--etch-drawer-admin-bar-height, 0));\n    }\n\n    :where([data-etch-drawer-placement='top'] .etch-drawer__panel) {\n        top: var(--etch-drawer-admin-bar-height, 0);\n    }","readonly":false},"hsthtcf":{"type":"class","selector":".etch-drawer__overlay","collection":"default","css":"","readonly":false},"0hha5ac":{"type":"class","selector":".etch-drawer__panel","collection":"default","css":"","readonly":false},"jpjpxj8":{"type":"class","selector":".etch-drawer__close","collection":"default","css":"","readonly":false},"0mrhive":{"type":"class","selector":".etch-drawer__close--icon-only","collection":"default","css":"","readonly":false},"nz1wyuo":{"type":"class","selector":".etch-drawer__close--label-only","collection":"default","css":"","readonly":false},"f0y5w97":{"type":"class","selector":".etch-drawer__close--label-icon","collection":"default","css":"","readonly":false},"fjiyx5v":{"type":"class","selector":".etch-drawer__content","collection":"default","css":"","readonly":false}},"components":{"140":{"id":140,"name":"Etch Drawer","key":"EtchDrawer","properties":[{"key":"showEditor","name":"Show / Hide ( Editor )","keyTouched":true,"type":{"primitive":"boolean"},"default":false},{"key":"triggerSelector","name":"Trigger Selector ( .class or #id )","keyTouched":true,"type":{"primitive":"string"},"default":".open-drawer"},{"key":"drawerDisplayMethod","name":"Drawer Display Method","keyTouched":true,"type":{"primitive":"string","specialized":"select"},"default":"overlap","selectOptionsString":"Overlap : overlap\nPush Body : pushBody"},{"key":"drawerPlacement","name":"Drawer Placement","keyTouched":false,"type":{"primitive":"string","specialized":"select"},"default":"left","selectOptionsString":"Left : left\nTop : top\nRight : right\nBottom : bottom"},{"key":"drawerId","name":"Unique Id for Drawer","keyTouched":true,"type":{"primitive":"string"},"default":"etch-drawer"},{"key":"maxWidth","name":"Drawer Max Width","keyTouched":true,"type":{"primitive":"string"},"default":"400px"},{"key":"maxHeight","name":"Drawer Max Height","keyTouched":true,"type":{"primitive":"string"},"default":"100px"},{"key":"cloneSelector","name":"Clone Selector (Will clone an element into Drawer)","keyTouched":true,"type":{"primitive":"string"}},{"key":"drawerBackgroundColor","name":"Drawer Background color","keyTouched":true,"type":{"primitive":"string"},"default":"white"},{"key":"drawerBackdropColor","name":"Drawer Backdrop color","keyTouched":true,"type":{"primitive":"string"},"default":"rgba(0, 0, 0, 0.5)"},{"key":"drawerPadding","name":"Drawer Padding","keyTouched":false,"type":{"primitive":"string"},"default":"1em"},{"key":"closeButtonVariant","name":"Close Button Variant","keyTouched":true,"type":{"primitive":"string","specialized":"select"},"default":"icon","selectOptionsString":"Icon : icon\nLabel : label\nLabel and Icon : label-icon"},{"key":"closeButtonLabel","name":"Close Button Label","keyTouched":true,"type":{"primitive":"string"},"default":"Close"}],"description":"","legacyId":"","blocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Etch Drawer"},"script":{"code":"Y2xhc3MgRXRjaERyYXdlclNjcmlwdCB7CgkKCXN0YXRpYyBTRUxFQ1RPUlMgPSB7CgkJT1ZFUkxBWTogJy5ldGNoLWRyYXdlcl9fb3ZlcmxheScsCgkJUEFORUw6ICcuZXRjaC1kcmF3ZXJfX3BhbmVsJywKCQlDTE9TRV9CVE46ICcuZXRjaC1kcmF3ZXJfX2Nsb3NlJywKCQlDT05URU5UOiAnLmV0Y2gtZHJhd2VyX19jb250ZW50JywKCQlGT0NVU0FCTEU6ICdidXR0b24sIFtocmVmXSwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleD0iLTEiXSknCgl9OwoKCXN0YXRpYyBBVFRSSUJVVEVTID0gewoJCURSQVdFUl9JRDogJ2RhdGEtZXRjaC1kcmF3ZXItaWQnLAoJCVRSSUdHRVJfU0VMRUNUT1I6ICdkYXRhLWV0Y2gtZHJhd2VyLXRyaWdnZXItc2VsZWN0b3InLAoJCVBMQUNFTUVOVDogJ2RhdGEtZXRjaC1kcmF3ZXItcGxhY2VtZW50JywKCQlESVNQTEFZX01FVEhPRDogJ2RhdGEtZXRjaC1kcmF3ZXItZGlzcGxheS1tZXRob2QnLAoJCU1BWF9XSURUSDogJ2RhdGEtZXRjaC1kcmF3ZXItbWF4LXdpZHRoJywKCQlFRElUT1JfVE9HR0xFOiAnZGF0YS1ldGNoLWRyYXdlci1lZGl0b3ItdG9nZ2xlJywKCQlDTE9ORV9TRUxFQ1RPUjogJ2RhdGEtZXRjaC1kcmF3ZXItY2xvbmUtc2VsZWN0b3InCgl9OwoKCXN0YXRpYyBERUZBVUxUUyA9IHsKCQlEUkFXRVJfSUQ6ICdldGNoLWRyYXdlcicsCgkJUExBQ0VNRU5UOiAnbGVmdCcsCgkJRElTUExBWV9NRVRIT0Q6ICdvdmVybGFwJywKCQlNQVhfV0lEVEg6ICc0MDBweCcsCgkJVFJBTlNJVElPTl9EVVJBVElPTjogJzAuMzVzJwoJfTsKCgljb25zdHJ1Y3RvcihkcmF3ZXJFbCkgewoJCXRoaXMuZHJhd2VyRWwgPSBkcmF3ZXJFbDsKCQl0aGlzLnRyaWdnZXIgPSBudWxsOwoJCXRoaXMub3ZlcmxheSA9IG51bGw7CgkJdGhpcy5wYW5lbCA9IG51bGw7CgkJdGhpcy5jbG9zZUJ0biA9IG51bGw7CgkJdGhpcy5vcmlnaW5hbFBhcmVudCA9IG51bGw7CgkJdGhpcy5vcmlnaW5hbE5leHRTaWJsaW5nID0gbnVsbDsKCQl0aGlzLmlzSW5FdGNoID0gdGhpcy5pbkV0Y2goKTsKCgkJdGhpcy5pbml0KCk7Cgl9CgoJaW5FdGNoKCkgewoJCXJldHVybiB3aW5kb3cgIT09IHdpbmRvdy50b3AgJiYgd2luZG93LmZyYW1lRWxlbWVudD8uaWQgPT09ICdldGNoLWlmcmFtZSc7Cgl9CgoJaW5pdCgpIHsKCQlpZiAoIXRoaXMuZHJhd2VyRWwpIHsKCQkJcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ0RyYXdlciBlbGVtZW50IG5vdCBmb3VuZCcpOwoJCX0KCgkJY29uc3QgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTsKCQlpZiAoIWNvbmZpZy5kcmF3ZXJJZCkgewoJCQlyZXR1cm4gY29uc29sZS5lcnJvcihgRHJhd2VyIElEIGlzIHJlcXVpcmVkLiBTZXQgJHtFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuRFJBV0VSX0lEfSBhdHRyaWJ1dGUuYCk7CgkJfQoKCQlpZiAoIXRoaXMuZWxlbWVudHNSZWZlcmVuY2UoKSkgcmV0dXJuOwoKCQl0aGlzLmdldFRyaWdnZXJTZWxlY3RvcigpOwoJCXRoaXMuc2V0dXBQYW5lbChjb25maWcpOwoJCXRoaXMuc2V0dXBUcmFuc2l0aW9ucygpOwoJCXRoaXMuc2V0SW5pdGlhbFN0YXRlKGNvbmZpZyk7CgkJdGhpcy5hZGp1c3RGb3JXb3JkUHJlc3NBZG1pbkJhcihjb25maWcpOwoJCXRoaXMuYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKTsKCgkJaWYgKHRoaXMuaXNJbkV0Y2gpIHsKCQkJdGhpcy5vYnNlcnZlQ29uZmlnQ2hhbmdlcygpOyAgLy8gQ3JlYXRlIG9ic2VydmVyIE9OTFkKCQkJdGhpcy5zZXR1cEVkaXRvclRvZ2dsZSgpOyAgICAgLy8gQWx3YXlzIGFjdGl2ZQoJCX0KCX0KCglnZXRDb25maWcoKSB7CgkJY29uc3QgZGF0YXNldCA9IHRoaXMuZHJhd2VyRWwuZGF0YXNldDsKCQlyZXR1cm4gewoJCQlkcmF3ZXJJZDogZGF0YXNldC5ldGNoRHJhd2VySWQ/LnRyaW0oKSB8fCBFdGNoRHJhd2VyU2NyaXB0LkRFRkFVTFRTLkRSQVdFUl9JRCwKCQkJcGxhY2VtZW50OiBkYXRhc2V0LmV0Y2hEcmF3ZXJQbGFjZW1lbnQgfHwgRXRjaERyYXdlclNjcmlwdC5ERUZBVUxUUy5QTEFDRU1FTlQsCgkJCWRpc3BsYXlNZXRob2Q6IGRhdGFzZXQuZXRjaERyYXdlckRpc3BsYXlNZXRob2QgfHwgRXRjaERyYXdlclNjcmlwdC5ERUZBVUxUUy5ESVNQTEFZX01FVEhPRCwKCQkJbWF4V2lkdGg6IGRhdGFzZXQuZXRjaERyYXdlck1heFdpZHRoIHx8IEV0Y2hEcmF3ZXJTY3JpcHQuREVGQVVMVFMuTUFYX1dJRFRILAoJCQllZGl0b3JUb2dnbGU6IGRhdGFzZXQuZXRjaERyYXdlckVkaXRvclRvZ2dsZQoJCX07Cgl9CgoJZWxlbWVudHNSZWZlcmVuY2UoKSB7CgkJdGhpcy5vdmVybGF5ID0gdGhpcy5kcmF3ZXJFbC5xdWVyeVNlbGVjdG9yKEV0Y2hEcmF3ZXJTY3JpcHQuU0VMRUNUT1JTLk9WRVJMQVkpOwoJCXRoaXMucGFuZWwgPSB0aGlzLmRyYXdlckVsLnF1ZXJ5U2VsZWN0b3IoRXRjaERyYXdlclNjcmlwdC5TRUxFQ1RPUlMuUEFORUwpOwoJCXRoaXMuY2xvc2VCdG4gPSB0aGlzLmRyYXdlckVsLnF1ZXJ5U2VsZWN0b3IoRXRjaERyYXdlclNjcmlwdC5TRUxFQ1RPUlMuQ0xPU0VfQlROKTsKCgkJaWYgKCF0aGlzLm92ZXJsYXkgfHwgIXRoaXMucGFuZWwgfHwgIXRoaXMuY2xvc2VCdG4pIHsKCQkJY29uc29sZS5lcnJvcignUmVxdWlyZWQgZHJhd2VyIGVsZW1lbnRzIG5vdCBmb3VuZCcpOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCXJldHVybiB0cnVlOwoJfQoKCWdldFRyaWdnZXJTZWxlY3RvcigpIHsKCQljb25zdCB0cmlnZ2VyU2VsZWN0b3IgPSB0aGlzLmRyYXdlckVsLmdldEF0dHJpYnV0ZShFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuVFJJR0dFUl9TRUxFQ1RPUik/LnRyaW0oKTsKCQkKCQlpZiAoIXRyaWdnZXJTZWxlY3RvcikgcmV0dXJuOwoKCQl0aGlzLnRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRyaWdnZXJTZWxlY3Rvcik7CgkJCgkJaWYgKCF0aGlzLnRyaWdnZXIpIHsKCQkJY29uc29sZS5lcnJvcihgVHJpZ2dlciBlbGVtZW50IG5vdCBmb3VuZCBmb3Igc2VsZWN0b3I6ICR7dHJpZ2dlclNlbGVjdG9yfWApOwoJCX0KCX0KCgljbG9uZUV4dGVybmFsQ29udGVudCgpIHsKCQljb25zdCBjbG9uZVNlbGVjdG9yID0gdGhpcy5kcmF3ZXJFbC5nZXRBdHRyaWJ1dGUoRXRjaERyYXdlclNjcmlwdC5BVFRSSUJVVEVTLkNMT05FX1NFTEVDVE9SKT8udHJpbSgpOwoJCQoJCWlmICghY2xvbmVTZWxlY3RvcikgcmV0dXJuOwoKCQljb25zdCBjb250ZW50ID0gdGhpcy5wYW5lbC5xdWVyeVNlbGVjdG9yKEV0Y2hEcmF3ZXJTY3JpcHQuU0VMRUNUT1JTLkNPTlRFTlQpOwoJCQoJCS8vIENoZWNrIGlmIGFscmVhZHkgbW92ZWQKCQlpZiAoY29udGVudC5kYXRhc2V0LmNsb25lZCA9PT0gJ3RydWUnKSByZXR1cm47CgoJCWNvbnN0IHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsb25lU2VsZWN0b3IpOwoJCQoJCWlmICghc291cmNlRWxlbWVudCkgewoJCQljb25zb2xlLmVycm9yKGBFbGVtZW50IHRvIGNsb25lIG5vdCBmb3VuZCBmb3Igc2VsZWN0b3I6ICR7Y2xvbmVTZWxlY3Rvcn1gKTsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gU3RvcmUgb3JpZ2luYWwgcGFyZW50IGFuZCBuZXh0IHNpYmxpbmcgdG8gcmVzdG9yZSBwb3NpdGlvbiBsYXRlcgoJCXRoaXMub3JpZ2luYWxQYXJlbnQgPSBzb3VyY2VFbGVtZW50LnBhcmVudE5vZGU7CgkJdGhpcy5vcmlnaW5hbE5leHRTaWJsaW5nID0gc291cmNlRWxlbWVudC5uZXh0U2libGluZzsKCQkKCQlpZiAoY29udGVudCkgewoJCQljb250ZW50Lmluc2VydEJlZm9yZShzb3VyY2VFbGVtZW50LCBjb250ZW50LmZpcnN0Q2hpbGQpOwoJCQljb250ZW50LmRhdGFzZXQuY2xvbmVkID0gJ3RydWUnOwoJCX0KCX0KCglyZW1vdmVDbG9uZWRDb250ZW50KCkgewoJCWNvbnN0IGNvbnRlbnQgPSB0aGlzLnBhbmVsLnF1ZXJ5U2VsZWN0b3IoRXRjaERyYXdlclNjcmlwdC5TRUxFQ1RPUlMuQ09OVEVOVCk7CgkJCgkJaWYgKGNvbnRlbnQuZGF0YXNldC5jbG9uZWQgIT09ICd0cnVlJykgcmV0dXJuOwoJCQoJCWNvbnN0IGNsb25lU2VsZWN0b3IgPSB0aGlzLmRyYXdlckVsLmdldEF0dHJpYnV0ZShFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuQ0xPTkVfU0VMRUNUT1IpPy50cmltKCk7CgkJaWYgKCFjbG9uZVNlbGVjdG9yKSByZXR1cm47CgoJCWNvbnN0IG1vdmVkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xvbmVTZWxlY3Rvcik7CgkJCgkJaWYgKG1vdmVkRWxlbWVudCAmJiB0aGlzLm9yaWdpbmFsUGFyZW50KSB7CgkJCWlmICh0aGlzLm9yaWdpbmFsTmV4dFNpYmxpbmcpIHsKCQkJCXRoaXMub3JpZ2luYWxQYXJlbnQuaW5zZXJ0QmVmb3JlKG1vdmVkRWxlbWVudCwgdGhpcy5vcmlnaW5hbE5leHRTaWJsaW5nKTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMub3JpZ2luYWxQYXJlbnQuYXBwZW5kQ2hpbGQobW92ZWRFbGVtZW50KTsKCQkJfQoJCQkKCQkJZGVsZXRlIGNvbnRlbnQuZGF0YXNldC5jbG9uZWQ7CgkJCXRoaXMub3JpZ2luYWxQYXJlbnQgPSBudWxsOwoJCQl0aGlzLm9yaWdpbmFsTmV4dFNpYmxpbmcgPSBudWxsOwoJCX0KCX0KCglzZXR1cFBhbmVsKGNvbmZpZykgewoJCWlmIChjb25maWcubWF4V2lkdGgpIHsKCQkJdGhpcy5kcmF3ZXJFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1wYW5lbC1tYXgtd2lkdGgnLCBjb25maWcubWF4V2lkdGgpOwoJCX0KCQkKCQlpZiAoIXRoaXMuaXNJbkV0Y2ggJiYgdGhpcy50cmlnZ2VyKSB7CgkJCXRoaXMudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0aGlzLnBhbmVsLmlkKTsKCQl9Cgl9CgoJc2V0dXBUcmFuc2l0aW9ucygpIHsKCQljb25zdCBwcmVmZXJzUmVkdWNlZE1vdGlvbiA9IHdpbmRvdy5tYXRjaE1lZGlhPy4oJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJyk/Lm1hdGNoZXM7CgkJY29uc3QgZHVyYXRpb24gPSBwcmVmZXJzUmVkdWNlZE1vdGlvbiA/ICcwcycgOiBFdGNoRHJhd2VyU2NyaXB0LkRFRkFVTFRTLlRSQU5TSVRJT05fRFVSQVRJT047CgoJCXRoaXMuZHJhd2VyRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tZXRjaC1kcmF3ZXItdHJhbnNpdGlvbi1kdXJhdGlvbicsIGR1cmF0aW9uKTsKCQl0aGlzLmRyYXdlckVsLnN0eWxlLnNldFByb3BlcnR5KCctLWV0Y2gtZHJhd2VyLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgJ2Vhc2UtaW4tb3V0Jyk7Cgl9CgoJc2V0SW5pdGlhbFN0YXRlKGNvbmZpZykgewoJCWlmICh0aGlzLmlzSW5FdGNoICYmIGNvbmZpZy5lZGl0b3JUb2dnbGUgPT09ICd0cnVlJykgewoJCQl0aGlzLnNldE9wZW5TdGF0ZSgpOwoJCX0gZWxzZSB7CgkJCXRoaXMuc2V0Q2xvc2VkU3RhdGUoKTsKCQl9Cgl9CgoJc2V0T3BlblN0YXRlKCkgewoJCXRoaXMucGFuZWwucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTsKCQl0aGlzLnBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTsKCQl0aGlzLm92ZXJsYXkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpOwoJCQoJCWlmICh0aGlzLnRyaWdnZXIpIHsKCQkJdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7CgkJfQoJfQoKCXNldENsb3NlZFN0YXRlKCkgewoJCXRoaXMucGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7CgkJdGhpcy5wYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTsKCQl0aGlzLm92ZXJsYXkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7CgkJCgkJaWYgKHRoaXMudHJpZ2dlcikgewoJCQl0aGlzLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7CgkJfQoJfQoKCWFkanVzdEZvcldvcmRQcmVzc0FkbWluQmFyKGNvbmZpZykgewoJCWlmICh0aGlzLmlzSW5FdGNoKSByZXR1cm47CgoJCWNvbnN0IHdwQWRtaW5CYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3BhZG1pbmJhcicpOwoJCWlmICghd3BBZG1pbkJhcikgewoJCQl0aGlzLmRyYXdlckVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLWV0Y2gtZHJhd2VyLWFkbWluLWJhci1oZWlnaHQnKTsKCQkJcmV0dXJuOwoJCX0KCgkJY29uc3QgYWRtaW5CYXJIZWlnaHQgPSB3cEFkbWluQmFyLm9mZnNldEhlaWdodDsKCQljb25zdCBoZWlnaHRQeCA9IGAke2FkbWluQmFySGVpZ2h0fXB4YDsKCgkJdGhpcy5kcmF3ZXJFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1hZG1pbi1iYXItaGVpZ2h0JywgaGVpZ2h0UHgpOwoJfQoKCW9ic2VydmVDb25maWdDaGFuZ2VzKCkgewoJCWNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gewoJCQltdXRhdGlvbnMuZm9yRWFjaCgobXV0YXRpb24pID0+IHsKCQkJCWlmIChtdXRhdGlvbi50eXBlICE9PSAnYXR0cmlidXRlcycpIHJldHVybjsKCQkJCQoJCQkJaWYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IEV0Y2hEcmF3ZXJTY3JpcHQuQVRUUklCVVRFUy5QTEFDRU1FTlQpIHsKCQkJCQljb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOwoJCQkJCXRoaXMuYWRqdXN0Rm9yV29yZFByZXNzQWRtaW5CYXIoY29uZmlnKTsKCQkJCX0KCQkJCQoJCQkJaWYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IEV0Y2hEcmF3ZXJTY3JpcHQuQVRUUklCVVRFUy5NQVhfV0lEVEgpIHsKCQkJCQljb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOwoJCQkJCWlmIChjb25maWcubWF4V2lkdGgpIHsKCQkJCQkJdGhpcy5kcmF3ZXJFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1wYW5lbC1tYXgtd2lkdGgnLCBjb25maWcubWF4V2lkdGgpOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJfSk7CgoJCXRoaXMuY29uZmlnT2JzZXJ2ZXIgPSBvYnNlcnZlcjsKCX0KCglzdGFydENvbmZpZ09ic2VydmVyKCkgewoJCWlmICghdGhpcy5jb25maWdPYnNlcnZlcikgcmV0dXJuOwoKCQl0aGlzLmNvbmZpZ09ic2VydmVyLm9ic2VydmUodGhpcy5kcmF3ZXJFbCwgewoJCQlhdHRyaWJ1dGVzOiB0cnVlLAoJCQlhdHRyaWJ1dGVGaWx0ZXI6IFsKCQkJCUV0Y2hEcmF3ZXJTY3JpcHQuQVRUUklCVVRFUy5QTEFDRU1FTlQsCgkJCQlFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuTUFYX1dJRFRICgkJCV0KCQl9KTsKCX0KCglzdG9wQ29uZmlnT2JzZXJ2ZXIoKSB7CgkJaWYgKCF0aGlzLmNvbmZpZ09ic2VydmVyKSByZXR1cm47CgkJdGhpcy5jb25maWdPYnNlcnZlci5kaXNjb25uZWN0KCk7Cgl9CgoJc2V0dXBFZGl0b3JUb2dnbGUoKSB7CgkJY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7CgkJCW11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4gewoJCQkJaWYgKAoJCQkJCW11dGF0aW9uLnR5cGUgPT09ICdhdHRyaWJ1dGVzJyAmJgoJCQkJCW11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IEV0Y2hEcmF3ZXJTY3JpcHQuQVRUUklCVVRFUy5FRElUT1JfVE9HR0xFCgkJCQkpIHsKCQkJCQljb25zdCB0b2dnbGVWYWx1ZSA9IHRoaXMuZHJhd2VyRWwuZGF0YXNldC5ldGNoRHJhd2VyRWRpdG9yVG9nZ2xlOwoKCQkJCQlpZiAodG9nZ2xlVmFsdWUgPT09ICd0cnVlJykgewoJCQkJCQl0aGlzLm9wZW4oKTsKCQkJCQl9IGVsc2UgaWYgKHRvZ2dsZVZhbHVlID09PSAnZmFsc2UnKSB7CgkJCQkJCXRoaXMuY2xvc2UoKTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCX0pOwoKCQkvLyB0aGlzIG9ic2VydmVyIGlzIGFsd2F5cyBhY3RpdmUgaW4gRVRDSAoJCW9ic2VydmVyLm9ic2VydmUodGhpcy5kcmF3ZXJFbCwgewoJCQlhdHRyaWJ1dGVzOiB0cnVlLAoJCQlhdHRyaWJ1dGVGaWx0ZXI6IFtFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuRURJVE9SX1RPR0dMRV0KCQl9KTsKCgkJdGhpcy5lZGl0b3JUb2dnbGVPYnNlcnZlciA9IG9ic2VydmVyOwoJfQoKCWF0dGFjaEV2ZW50TGlzdGVuZXJzKCkgewoJCWlmICh0aGlzLnRyaWdnZXIgJiYgIXRoaXMuaXNJbkV0Y2gpIHsKCQkJdGhpcy5hdHRhY2hUcmlnZ2VyTGlzdGVuZXJzKCk7CgkJfQoKCQkvLyBEb24ndCBhdHRhY2ggY2xvc2UgbGlzdGVuZXJzIHdoZW4gaW4gRXRjaCBlZGl0b3IgLSBvbmx5IGFsbG93IGNsb3NpbmcgdmlhIGVkaXRvciB0b2dnbGUKCQlpZiAoIXRoaXMuaXNJbkV0Y2gpIHsKCQkJdGhpcy5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7CgkJCXRoaXMub3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7CgkJCXRoaXMucGFuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB0aGlzLmhhbmRsZUtleWJvYXJkTmF2aWdhdGlvbihlKSk7CgkJfQoJfQoKCWF0dGFjaFRyaWdnZXJMaXN0ZW5lcnMoKSB7CgkJdGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5vcGVuKCkpOwoJCXRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHRoaXMuaGFuZGxlVHJpZ2dlcktleWRvd24oZSkpOwoJfQoKCWhhbmRsZVRyaWdnZXJLZXlkb3duKGUpIHsKCQlpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCXRoaXMub3BlbigpOwoJCX0KCX0KCglvcGVuKCkgewoJCWNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7CgkJaWYgKGNvbmZpZy5tYXhXaWR0aCkgewoJCQl0aGlzLmRyYXdlckVsLnN0eWxlLnNldFByb3BlcnR5KCctLWV0Y2gtZHJhd2VyLXBhbmVsLW1heC13aWR0aCcsIGNvbmZpZy5tYXhXaWR0aCk7CgkJfQoKCQkvLyBTdGFydCBvYnNlcnZpbmcgcGxhY2VtZW50ICsgd2lkdGggd2hlbiBkcmF3ZXIgb3BlbnMgKEVUQ0ggb25seSkKCQlpZiAodGhpcy5pc0luRXRjaCkgewoJCQl0aGlzLnN0YXJ0Q29uZmlnT2JzZXJ2ZXIoKTsKCQl9CgkJCgkJaWYgKHRoaXMudHJpZ2dlcikgewoJCQl0aGlzLnRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTsKCQl9CgoJCXRoaXMuY2xvbmVFeHRlcm5hbENvbnRlbnQoKTsKCQl0aGlzLnNob3dQYW5lbCgpOwoJCQoJCWlmIChjb25maWcuZGlzcGxheU1ldGhvZCA9PT0gJ3B1c2hCb2R5JykgewoJCQl0aGlzLnNldHVwUHVzaEJvZHlNb2RlKGNvbmZpZyk7CgkJfQoKCQlkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CgoJCXRoaXMucGFuZWwuZm9jdXMoKTsKCX0KCglzaG93UGFuZWwoKSB7CgkJdGhpcy5wYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpOwoJCQoJCXRoaXMucGFuZWwub2Zmc2V0SGVpZ2h0OyAvLyBmb3JjZSByZWZsb3cKCQkKCQl0aGlzLnBhbmVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTsKCQl0aGlzLm92ZXJsYXkuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpOwoJfQoKCXNldHVwUHVzaEJvZHlNb2RlKGNvbmZpZykgewoJCWNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID0gd2luZG93Lm1hdGNoTWVkaWE/LignKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSknKT8ubWF0Y2hlczsKCQljb25zdCBkdXJhdGlvbiA9IHByZWZlcnNSZWR1Y2VkTW90aW9uID8gJzBzJyA6IEV0Y2hEcmF3ZXJTY3JpcHQuREVGQVVMVFMuVFJBTlNJVElPTl9EVVJBVElPTjsKCQkKCQlkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWV0Y2gtZHJhd2VyLXBhbmVsLW1heC13aWR0aCcsIGNvbmZpZy5tYXhXaWR0aCk7CgkJZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci10cmFuc2l0aW9uLWR1cmF0aW9uJywgZHVyYXRpb24pOwoJCWRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tZXRjaC1kcmF3ZXItdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCAnZWFzZS1pbi1vdXQnKTsKCQkKCQlpZiAoY29uZmlnLnBsYWNlbWVudCA9PT0gJ3RvcCcgfHwgY29uZmlnLnBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHsKCQkJdGhpcy5zZXRQYW5lbEhlaWdodEZvclB1c2hCb2R5KCk7CgkJfQoJfQoKCXNldFBhbmVsSGVpZ2h0Rm9yUHVzaEJvZHkoKSB7CgkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJY29uc3QgcGFuZWxIZWlnaHQgPSB0aGlzLnBhbmVsLm9mZnNldEhlaWdodDsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1wYW5lbC1tYXgtaGVpZ2h0JywgYCR7cGFuZWxIZWlnaHR9cHhgKTsKCQl9KTsKCX0KCgljbG9zZSgpIHsKCQljb25zdCBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOwoKCQlpZiAodGhpcy50cmlnZ2VyKSB7CgkJCXRoaXMudHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTsKCQl9CgoJCXRoaXMuaGlkZVBhbmVsKGNvbmZpZyk7CgoJCWlmICh0aGlzLnRyaWdnZXIpIHsKCQkJdGhpcy50cmlnZ2VyLmZvY3VzKCk7CgkJfQoJfQoKCWhpZGVQYW5lbChjb25maWcpIHsKCQlpZiAodGhpcy5wYW5lbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkgewoJCQlkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTsKCQl9CgkJCgkJcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKCQkJdGhpcy5wYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTsKCQkJdGhpcy5vdmVybGF5LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpOwoJCQkKCQkJY29uc3QgZHVyYXRpb24gPSB0aGlzLmdldFRyYW5zaXRpb25EdXJhdGlvbigpOwoJCQlzZXRUaW1lb3V0KCgpID0+IHsKCQkJCXRoaXMucGFuZWwuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7CgkJCQl0aGlzLmNsZWFudXBBZnRlckNsb3NlKGNvbmZpZyk7CgkJCX0sIGR1cmF0aW9uKTsKCQl9KTsKCX0KCglnZXRUcmFuc2l0aW9uRHVyYXRpb24oKSB7CgkJcmV0dXJuIHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnBhbmVsKS50cmFuc2l0aW9uRHVyYXRpb24pICogMTAwMCB8fCAzNTA7Cgl9CgoJY2xlYW51cEFmdGVyQ2xvc2UoY29uZmlnKSB7CgoJCWlmICh0aGlzLmlzSW5FdGNoKSB7CgkJCXRoaXMuc3RvcENvbmZpZ09ic2VydmVyKCk7CgkJfQoKCQlpZiAoY29uZmlnLmRpc3BsYXlNZXRob2QgPT09ICdwdXNoQm9keScpIHsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1wYW5lbC1tYXgtd2lkdGgnKTsKCQkJZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1ldGNoLWRyYXdlci1wYW5lbC1tYXgtaGVpZ2h0Jyk7CgkJCWRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tZXRjaC1kcmF3ZXItdHJhbnNpdGlvbi1kdXJhdGlvbicpOwoJCQlkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLWV0Y2gtZHJhd2VyLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJyk7CgkJfQoJCQoJCWRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsKCQkKCQl0aGlzLnJlbW92ZUNsb25lZENvbnRlbnQoKTsKCX0KCgloYW5kbGVLZXlib2FyZE5hdmlnYXRpb24oZSkgewoJCWlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHsKCQkJdGhpcy5jbG9zZSgpOwoJCQlyZXR1cm47CgkJfQoJCQoJCWlmIChlLmtleSA9PT0gJ1RhYicpIHsKCQkJdGhpcy5oYW5kbGVUYWJLZXlOYXZpZ2F0aW9uKGUpOwoJCX0KCX0KCgloYW5kbGVUYWJLZXlOYXZpZ2F0aW9uKGUpIHsKCQljb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IHRoaXMuZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKTsKCQlpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm47CgoJCWNvbnN0IGZpcnN0RWxlbWVudCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdOwoJCWNvbnN0IGxhc3RFbGVtZW50ID0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07CgoJCWlmIChlLnNoaWZ0S2V5KSB7CgkJCWlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEVsZW1lbnQpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWxhc3RFbGVtZW50Py5mb2N1cygpOwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RFbGVtZW50KSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQlmaXJzdEVsZW1lbnQ/LmZvY3VzKCk7CgkJCX0KCQl9Cgl9CgoJZ2V0Rm9jdXNhYmxlRWxlbWVudHMoKSB7CgkJcmV0dXJuIEFycmF5LmZyb20odGhpcy5wYW5lbC5xdWVyeVNlbGVjdG9yQWxsKEV0Y2hEcmF3ZXJTY3JpcHQuU0VMRUNUT1JTLkZPQ1VTQUJMRSkpOwoJfQp9CgoKZnVuY3Rpb24gaW5zdGFudGlhdGVEcmF3ZXJzKCkgewoJY29uc3QgZHJhd2VyRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXRjaC1kcmF3ZXInKTsKCWlmICghZHJhd2VyRWxlbWVudHMubGVuZ3RoKSByZXR1cm47CgoJd2luZG93LmV0Y2hFbGVtZW50cyA9IHdpbmRvdy5ldGNoRWxlbWVudHMgfHwge307Cgl3aW5kb3cuZXRjaEVsZW1lbnRzLmV0Y2hEcmF3ZXIgPSB3aW5kb3cuZXRjaEVsZW1lbnRzLmV0Y2hEcmF3ZXIgfHwge307CgoJY29uc3QgcmVnaXN0ZXJlZElkcyA9IG5ldyBTZXQoKTsKCglmb3IgKGNvbnN0IGRyYXdlckVsIG9mIGRyYXdlckVsZW1lbnRzKSB7CgkJY29uc3QgZHJhd2VySWQgPSBkcmF3ZXJFbC5kYXRhc2V0LmV0Y2hEcmF3ZXJJZD8udHJpbSgpOwoKCQlpZiAoIWRyYXdlcklkKSB7CgkJCWNvbnNvbGUuZXJyb3IoCgkJCQlgRHJhd2VyIElEIGlzIHJlcXVpcmVkLiBTZXQgJHtFdGNoRHJhd2VyU2NyaXB0LkFUVFJJQlVURVMuRFJBV0VSX0lEfSBhdHRyaWJ1dGUuYAoJCQkpOwoJCQljb250aW51ZTsKCQl9CgoJCWlmIChyZWdpc3RlcmVkSWRzLmhhcyhkcmF3ZXJJZCkpIHsKCQkJY29uc29sZS5lcnJvcihgRHVwbGljYXRlIGRyYXdlciBJRCBmb3VuZDogJHtkcmF3ZXJJZH0uIEVhY2ggZHJhd2VyIG11c3QgaGF2ZSBhIHVuaXF1ZSBJRC5gKTsKCQkJY29udGludWU7CgkJfQoKCQlyZWdpc3RlcmVkSWRzLmFkZChkcmF3ZXJJZCk7CgoJCWNvbnN0IGRyYXdlckluc3RhbmNlID0gbmV3IEV0Y2hEcmF3ZXJTY3JpcHQoZHJhd2VyRWwpOwoJCXdpbmRvdy5ldGNoRWxlbWVudHMuZXRjaERyYXdlcltkcmF3ZXJJZF0gPSBkcmF3ZXJJbnN0YW5jZTsKCX0KCglyZXR1cm4gd2luZG93LmV0Y2hFbGVtZW50cy5ldGNoRHJhd2VyOwp9CgppbnN0YW50aWF0ZURyYXdlcnMoKTsK","id":"vbe0d1q"},"tag":"div","attributes":{"data-etch-drawer-id":"{props.drawerId}","data-etch-drawer-trigger-selector":"{props.triggerSelector}","data-etch-drawer-placement":"{props.drawerPlacement}","data-etch-drawer-display-method":"{props.drawerDisplayMethod}","data-etch-drawer-max-width":"{props.maxWidth}","data-etch-drawer-editor-toggle":"{props.showEditor}","data-etch-drawer-clone-selector":"{props.cloneSelector}","style":"--etch-drawer-background-color: {props.drawerBackgroundColor}; --etch-drawer-backdrop-color: {props.drawerBackdropColor}; --etch-drawer-padding: {props.drawerPadding}; --etch-drawer-panel-max-height: {props.maxHeight};","class":"etch-drawer"},"styles":["rlli2h1"]},"innerBlocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Overlay"},"tag":"div","attributes":{"aria-hidden":"true","class":"etch-drawer__overlay"},"styles":["hsthtcf"]},"innerBlocks":[],"innerHTML":"\n\n","innerContent":["\n","\n"]},{"blockName":"etch/element","attrs":{"metadata":{"name":"Panel"},"tag":"div","attributes":{"role":"dialog","id":"etch-drawer-panel-{props.drawerId}","aria-labelledby":"etch-drawer-trigger-{props.drawerId}","aria-modal":"true","hidden":"hidden","class":"etch-drawer__panel"},"styles":["0hha5ac"]},"innerBlocks":[{"blockName":"etch/condition","attrs":{"metadata":{"name":"If (Condition)"},"condition":{"leftHand":"props.closeButtonVariant","operator":"===","rightHand":"\"icon\""},"conditionString":"props.closeButtonVariant === 'icon'"},"innerBlocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Close"},"tag":"button","attributes":{"aria-label":"Close drawer","class":"etch-drawer__close etch-drawer__close--icon-only"},"styles":["jpjpxj8","0mrhive"]},"innerBlocks":[{"blockName":"etch/element","attrs":{"tag":"svg","attributes":{"width":"24","height":"24","viewBox":"0 0 24 24","fill":"none","xmlns":"http://www.w3.org/2000/svg"}},"innerBlocks":[{"blockName":"etch/element","attrs":{"tag":"path","attributes":{"fill":"currentColor","d":"M18 6L6 18M6 6l12 12","stroke":"currentColor","stroke-width":"2","stroke-linecap":"round"}},"innerBlocks":[],"innerHTML":"\n\n","innerContent":["\n","\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]},{"blockName":"etch/condition","attrs":{"metadata":{"name":"If (Condition)"},"condition":{"leftHand":"props.closeButtonVariant","operator":"===","rightHand":"\"label\""},"conditionString":"props.closeButtonVariant === 'label'"},"innerBlocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Close"},"tag":"button","attributes":{"aria-label":"Close drawer","class":"etch-drawer__close etch-drawer__close--label-only"},"styles":["jpjpxj8","nz1wyuo"]},"innerBlocks":[{"blockName":"etch/text","attrs":{"metadata":{"name":"Text"},"content":"{props.closeButtonLabel}"},"innerBlocks":[],"innerHTML":"","innerContent":[]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]},{"blockName":"etch/condition","attrs":{"metadata":{"name":"If (Condition)"},"condition":{"leftHand":"props.closeButtonVariant","operator":"===","rightHand":"\"label-icon\""},"conditionString":"props.closeButtonVariant === 'label-icon'"},"innerBlocks":[{"blockName":"etch/element","attrs":{"metadata":{"name":"Close"},"tag":"button","attributes":{"aria-label":"Close drawer","class":"etch-drawer__close etch-drawer__close--label-icon"},"styles":["jpjpxj8","f0y5w97"]},"innerBlocks":[{"blockName":"etch/element","attrs":{"tag":"span","attributes":{}},"innerBlocks":[{"blockName":"etch/text","attrs":{"metadata":{"name":"Text"},"content":"{props.closeButtonLabel}"},"innerBlocks":[],"innerHTML":"","innerContent":[]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]},{"blockName":"etch/element","attrs":{"tag":"svg","attributes":{"width":"24","height":"24","viewBox":"0 0 24 24","fill":"none","xmlns":"http://www.w3.org/2000/svg"}},"innerBlocks":[{"blockName":"etch/element","attrs":{"tag":"path","attributes":{"fill":"currentColor","d":"M18 6L6 18M6 6l12 12","stroke":"currentColor","stroke-width":"2","stroke-linecap":"round"}},"innerBlocks":[],"innerHTML":"\n\n","innerContent":["\n","\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n\n\n","innerContent":["\n",null,"\n\n",null,"\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]},{"blockName":"etch/element","attrs":{"metadata":{"name":"Content"},"tag":"div","attributes":{"class":"etch-drawer__content"},"styles":["fjiyx5v"]},"innerBlocks":[{"blockName":"etch/slot-placeholder","attrs":{"name":"drawerContent"},"innerBlocks":[],"innerHTML":"\n\n","innerContent":["\n","\n"]}],"innerHTML":"\n\n","innerContent":["\n",null,"\n"]}],"innerHTML":"\n\n\n\n\n\n\n\n","innerContent":["\n",null,"\n\n",null,"\n\n",null,"\n\n",null,"\n"]}],"innerHTML":"\n\n\n\n","innerContent":["\n",null,"\n\n",null,"\n"]}]}}}